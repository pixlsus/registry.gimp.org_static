<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
  "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" version="XHTML+RDFa 1.0" dir="ltr">

<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../files/favicon.png" type="image/png" />
<link rel="alternate" type="application/rss+xml" title="Comments for &quot;Need Script code for Image Size and canvas?&quot;" href="../crss/node/28534" />
<link rel="canonical" href="28534.html" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="shortlink" href="28534.html" />
  <title>Need Script code for Image Size and canvas? | GIMP Plugin Registry</title>
  <style type="text/css" media="all">@import url("../modules/system/system.base.css?n48fl6");
@import url("../modules/system/system.menus.css?n48fl6");
@import url("../modules/system/system.messages.css?n48fl6");
@import url("../modules/system/system.theme.css?n48fl6");</style>
<style type="text/css" media="all">@import url("../modules/aggregator/aggregator.css?n48fl6");
@import url("../modules/book/book.css?n48fl6");
@import url("../modules/comment/comment.css?n48fl6");
@import url("../sites/all/modules/date/date_api/date.css?n48fl6");
@import url("../sites/all/modules/date/date_popup/themes/datepicker.1.7.css?n48fl6");
@import url("../sites/all/modules/date/date_repeat_field/date_repeat_field.css?n48fl6");
@import url("../modules/field/theme/field.css?n48fl6");
@import url("../sites/all/modules/mollom/mollom.css?n48fl6");
@import url("../modules/node/node.css?n48fl6");
@import url("../modules/poll/poll.css?n48fl6");
@import url("../modules/search/search.css?n48fl6");
@import url("../modules/user/user.css?n48fl6");
@import url("../modules/forum/forum.css?n48fl6");
@import url("../sites/all/modules/views/css/views.css?n48fl6");</style>
<style type="text/css" media="all">@import url("../sites/all/modules/ctools/css/ctools.css?n48fl6");
@import url("../sites/all/modules/rate/rate.css?n48fl6");
@import url("../sites/all/modules/tagclouds/tagclouds.css?n48fl6");
@import url("../sites/all/modules/panels/css/panels.css?n48fl6");
@import url("../sites/all/modules/best_answer/best_answer.css?n48fl6");</style>
<style type="text/css" media="all">@import url("../files/color/garland-5ac73a91/style.css?n48fl6");</style>
<style type="text/css" media="print">@import url("../themes/garland/print.css?n48fl6");</style>

<!--[if lt IE 7]>
<link type="text/css" rel="stylesheet" href="http://registry.gimp.org/themes/garland/fix-ie.css?n48fl6" media="all" />
<![endif]-->
  <script type="text/javascript" src="../misc/jquery.js?v=1.4.4"></script>
<script type="text/javascript" src="../misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="../misc/drupal.js?n48fl6"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"garland","theme_token":"CrjZ_9ZKSFBgUKWjiZNTAK6pNvVQCicoAq5Hvd5p2-w","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"sites\/all\/modules\/date\/date_repeat_field\/date_repeat_field.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/mollom\/mollom.css":1,"modules\/node\/node.css":1,"modules\/poll\/poll.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"modules\/forum\/forum.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/rate\/rate.css":1,"sites\/all\/modules\/tagclouds\/tagclouds.css":1,"sites\/all\/modules\/panels\/css\/panels.css":1,"sites\/all\/modules\/best_answer\/best_answer.css":1,"themes\/garland\/style.css":1,"themes\/garland\/print.css":1,"themes\/garland\/fix-ie.css":1}}});
//--><!]]>
</script>
</head>
<body class="html not-front not-logged-in two-sidebars page-node page-node- page-node-28534 node-type-question fluid-width" >
  <div id="skip-link">
    <a href="28534#main-content.html" class="element-invisible element-focusable">Skip to main content</a>
  </div>
      
  <div id="wrapper">
    <div id="container" class="clearfix">

      <div id="header">
        <div id="logo-floater">
                              <div id="branding"><strong><a href="../index.html">
                          <img src="../files/logo.png" alt="GIMP Plugin Registry " title="GIMP Plugin Registry " id="logo" />
                        <span>GIMP Plugin Registry</span>            </a></strong></div>
                          </div>

        <h2 class="element-invisible">Main menu</h2><ul class="links inline main-menu"><li class="menu-100 first"><a href="../about" title="Information about the Registry">About</a></li>
<li class="menu-136"><a href="23851.html" title="Documentation and How-Tos">Documentation</a></li>
<li class="menu-88"><a href="../forum">Forums</a></li>
<li class="menu-74"><a href="http://gug.criticalhit.dk" title="The GIMP User Group">GIMP User Group</a></li>
<li class="menu-1142"><a href="25574.html" title="GIMP Help">Get Help</a></li>
<li class="menu-1256"><a href="26216.html" title="Get info on using RSS to stay updated about what&#039;s going on on the site.">Stay Updated!</a></li>
<li class="menu-73 last"><a href="http://www.gimp.org/" title="The GIMP Homepage">gimp.org</a></li>
</ul>              </div> <!-- /#header -->

              <div id="sidebar-first" class="sidebar">
            <div class="region region-sidebar-first">
    <div id="block-system-navigation" class="block block-system block-menu clearfix">

    <h2 class="title">Navigation</h2>
  
  <div class="content">
    <ul class="menu"><li class="first leaf"><a href="25574.html" title="FAQ &amp; How To&#039;s">FAQ &amp; How To&#039;s</a></li>
<li class="leaf"><a href="../glossary/1.html" title="">Content By Name</a></li>
<li class="collapsed"><a href="../aggregator">Feed aggregator</a></li>
<li class="leaf"><a href="../popular">Popular content</a></li>
<li class="leaf"><a href="25392.html" title="Report Spam Here">Report Spam Here</a></li>
<li class="last leaf"><a href="../tagclouds">Tags</a></li>
</ul>  </div>
</div>
<div id="block-block-1" class="block block-block clearfix">

    
  <div class="content">
    If you'd like to upload plug-ins, please create an account below. You do <em>not</em> need one for download. Enjoy :-)  </div>
</div>
<div id="block-user-login" class="block block-user clearfix">

    <h2 class="title">User login</h2>
  
  <div class="content">
    <form action="http://registry.gimp.org/node/28534?destination=node/28534" method="post" id="user-login-form" accept-charset="UTF-8"><div><div class="form-item form-type-textfield form-item-name">
  <label for="edit-name">Username <span class="form-required" title="This field is required.">*</span></label>
 <input type="text" id="edit-name" name="name" value="" size="15" maxlength="60" class="form-text required" />
</div>
<div class="form-item form-type-password form-item-pass">
  <label for="edit-pass">Password <span class="form-required" title="This field is required.">*</span></label>
 <input type="password" id="edit-pass" name="pass" size="15" maxlength="128" class="form-text required" />
</div>
<div class="item-list"><ul><li class="first last"><a href="../user/password" title="Request new password via e-mail.">Request new password</a></li>
</ul></div><input type="hidden" name="form_build_id" value="form-5tazSoWbJGm01NukRB891Q8xExHnnRUzEMY79lRqsJM" />
<input type="hidden" name="form_id" value="user_login_block" />
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Log in" class="form-submit" /></div></div></form>  </div>
</div>
<div id="block-node-syndicate" class="block block-node clearfix">

    <h2 class="title">Syndicate</h2>
  
  <div class="content">
    <a href="../rss.xml" class="feed-icon" title="Subscribe to Syndicate"><img src="../misc/feed.png" width="16" height="16" alt="Subscribe to Syndicate" /></a>  </div>
</div>
  </div>
        </div>
      
      <div id="center"><div id="squeeze"><div class="right-corner"><div class="left-corner">
          <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="../index.html">Home</a></div>                    <a id="main-content"></a>
          <div id="tabs-wrapper" class="clearfix">                                <h1 class="with-tabs">Need Script code for Image Size and canvas?</h1>
                              </div>                                                  <div class="clearfix">
              <div class="region region-content">
    <div id="block-system-main" class="block block-system clearfix">

    
  <div class="content">
    <div id="node-28534" class="node node-question">

  
      
      <span class="submitted">September 18, 2013 - 12:34 â€” <span class="username">kumar Kovuru</span></span>
  
  <div class="content clearfix">
    <div class="form-item form-type-item">
  <label>Useful? </label>
 
</div>
<div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><p>i want script code<br />
case 1:if image height&gt;width then i want to fix height=300 and width is related to height size<br />
case 2:if image width&gt;height than i want to fix width=300 and height is related to width size<br />
(it for image is more than 300 X 300 or less than 300 X 300, i mean to say if image height and width is less than 300 then we need to increase the size of image up to 300 it is either height or width as per above two cases, and if image size is more that 300 then we need to decrease the size up to 300 it is either height or width as for above two cases)<br />
now i have image with size 300 X (Less than 300) or (Less than 300) X 300<br />
i want to add canvas for that image with size 320 X 320 and black background color and that image should be in middle.<br />
now i have image with size 320 X 320.<br />
now i have Gimp 2.8 version and i need script -Fu code<br />
i have some code please modify it once</p>
<p>(define (script-fu-sg-kumar-kovuru image layer)<br />
  (let* ((width (car (gimp-drawable-width layer)))<br />
         (height (car (gimp-drawable-height layer)))<br />
         (aspect (/ height width))<br />
      )<br />
    (gimp-image-undo-group-start image)<br />
    (gimp-context-push)<br />
    (if (&lt; (/ 300 width) (/ 300 height))<br />
        (gimp-layer-scale layer<br />
                          300<br />
                          (* 300 aspect)<br />
                          TRUE)<br />
        (gimp-layer-scale layer<br />
                          (/ 300 aspect)<br />
                          300<br />
                          TRUE ))<br />
    (gimp-context-set-background &#039;(255 255 255))<br />
    (gimp-layer-resize layer<br />
                       320<br />
                       320<br />
                       (/ (- 320 (car (gimp-drawable-width layer))) 2)<br />
                       (/ (- 320 (car (gimp-drawable-height layer))) 2))<br />
    (gimp-layer-flatten layer)<br />
    ; (gimp-image-resize-to-layers image) ; Uncomment if image should be scaled<br />
    (gimp-context-pop)<br />
    (gimp-image-undo-group-end image)<br />
    (gimp-displays-flush)<br />
    )<br />
  )<br />
(script-fu-register &quot;script-fu-sg-kumar-kovuru&quot;<br />
 &quot;Scale layer per Kumar Kovuru&quot;<br />
 &quot;Fit layer in 300x300 with white border&quot;<br />
 &quot;Saul Goode&quot;<br />
 &quot;Saul Goode&quot;<br />
 &quot;September 2013&quot;<br />
 &quot;RGB*,GRAY*&quot;<br />
 SF-IMAGE    &quot;Image&quot;    0<br />
 SF-DRAWABLE &quot;Drawable&quot; 0<br />
 )</p>
<p>(script-fu-menu-register &quot;script-fu-sg-kumar-kovuru&quot;<br />
 &quot;&lt;Image&gt;/Filters/Misc/&quot;<br />
 )</p>
<p>it is working but if image size is more than 300 X 300 then it is fixed size 300 X 300 and and getting canvas and rest of the size i mean to say i f image size is 420 X 380 it is converting 300 X 290 image and with canvas 320 X 320 but res t of the pixels means 320 to 420 X 320 to 380 getting white color<br />
-------------------------------------------------------------------------------------------------<br />
Thank you saulgoode<br />
it is working Fine</p>
</div></div></div><div class="field field-name-field-related field-type-node-reference field-label-above"><div class="field-label">Related Content:&nbsp;</div><div class="field-items"><div class="field-item even"><a href="25220.html">&quot;Find Help&quot; script</a></div></div></div><div class="view view-question-answers-best-answers- view-id-question_answers_best_answers_ view-display-id-entity_view_1 view-dom-id-034f2dde670770954d7ab8f7464e0762">
      
  
  
      <div class="view-content">
        <div class="views-row views-row-1 views-row-odd views-row-first">
    <div id="node-28539" class="node node-answer clearfix">

  
        <h2>Need Script code for Image Size and canvas?</h2>
    
      <div class="submitted">
      September 19, 2013 - 07:02 â€” <span class="username">saulgoode</span>    </div>
  
  <div class="content">
    <div class="form-item form-type-item">
  <label>Useful? </label>
 
</div>
<div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><p>Remove the semicolon at the start of the line containing "<em>Uncomment if image should be scaled</em>".</p>
</div></div></div>  </div>

  
  
</div>
  </div>
  <div class="views-row views-row-2 views-row-even views-row-last">
    <div id="node-28535" class="node node-answer clearfix">

  
        <h2>Black?</h2>
    
      <div class="submitted">
      September 18, 2013 - 16:09 â€” <span class="username">saulgoode</span>    </div>
  
  <div class="content">
    <div class="form-item form-type-item">
  <label>Useful? </label>
 
</div>
<div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even"><p>So the script I wrote does what you want except now you want the background to be black?</p>
</div></div></div>  </div>

  
  
</div>
  </div>
    </div>
  
  
  
  
  
  
</div>   </div>

  <div class="clearfix">
          <div class="links"></div>
    
      </div>

</div>
  </div>
</div>
  </div>
          </div>
          <a href="../crss/node/28534" class="feed-icon" title="Subscribe to Comments for &quot;Need Script code for Image Size and canvas?&quot;"><img src="../misc/feed.png" width="16" height="16" alt="Subscribe to Comments for &quot;Need Script code for Image Size and canvas?&quot;" /></a>            <div class="region region-footer">
    <div id="block-block-5" class="block block-block clearfix">

    
  <div class="content">
    Unless otherwise noted, the rights for the individual plugins are with their respective authors. Logo image by Jakub Steiner.
<marquee style="width: 0px; position: absolute"> <a href="http://brazzersdeporno.com" title="porno">porno</a> - <a href="http://www.porno724.com/" target="_blank" title="Porno izle">Porno izle</a> <a href="http://www.yokyokpornolar.com/" target="_blank" title="porno abi">porno abi</a> </marquee>  </div>
</div>
  </div>
      </div></div></div></div> <!-- /.left-corner, /.right-corner, /#squeeze, /#center -->

              <div id="sidebar-second" class="sidebar">
            <div class="region region-sidebar-second">
    <div id="block-search-form" class="block block-search clearfix">

    
  <div class="content">
    <form action="28534" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
      <h2 class="element-invisible">Search form</h2>
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions--2"><input type="submit" id="edit-submit--2" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form--bBcqqyqa5KPwNlDJY0kFe-92Ad7VITR97pYrZlP2b8" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
</div>
<div id="block-forum-active" class="block block-forum clearfix">

    <h2 class="title">Active forum topics</h2>
  
  <div class="content">
    <div class="item-list"><ul><li class="first"><a href="32356.html" title="3 comments">Can&#039;t access &quot;My account&quot;</a></li>
<li><a href="32371.html">Delete account</a></li>
<li class="last"><a href="32363.html">Outline</a></li>
</ul></div><div class="more-link"><a href="../forum" title="Read the latest forum topics.">More</a></div>  </div>
</div>
<div id="block-views-newest-questions-block-1" class="block block-views clearfix">

    <h2 class="title">Updated Questions</h2>
  
  <div class="content">
    <div class="view view-newest-questions view-id-newest_questions view-display-id-block_1 view-dom-id-1bb455c57f8f71914f2b73c3e197b267">
        
  
  
      <div class="view-content">
      <div class="item-list">    <ul>          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <span class="views-field views-field-title">        <span class="field-content"><a href="32373.html">Shadow and Highlights Recovery - Adding group undo</a></span>  </span>  
  <div class="views-field views-field-last-updated">    <span class="views-label views-label-last-updated">Last change</span>    <span class="field-content">3 hours 25 min</span>  </div>  
  <div class="views-field views-field-field-answer-count">        <div class="field-content">No answers, yet!</div>  </div></li>
          <li class="views-row views-row-2 views-row-even">  
  <span class="views-field views-field-title">        <span class="field-content"><a href="32359.html">Does this script work?</a></span>  </span>  
  <div class="views-field views-field-last-updated">    <span class="views-label views-label-last-updated">Last change</span>    <span class="field-content">4 months 2 weeks</span>  </div>  
  <div class="views-field views-field-field-answer-count">        <div class="field-content">No answers, yet!</div>  </div></li>
          <li class="views-row views-row-3 views-row-odd views-row-last">  
  <span class="views-field views-field-title">        <span class="field-content"><a href="32349.html">File upload problem</a></span>  </span>  
  <div class="views-field views-field-last-updated">    <span class="views-label views-label-last-updated">Last change</span>    <span class="field-content">6 months 38 min</span>  </div>  
  <div class="views-field views-field-field-answer-count">        <div class="field-content">1 Answer(s)</div>  </div></li>
      </ul></div>    </div>
  
  
  
      
<div class="more-link">
  <a href="../newest-questions">
    more  </a>
</div>
  
  
  
</div>  </div>
</div>
<div id="block-comment-recent" class="block block-comment clearfix">

    <h2 class="title">Recent comments</h2>
  
  <div class="content">
    <div class="item-list"><ul><li class="first"><a href="../comment/19262#comment-19262">Black triangles</a>&nbsp;<span>2 hours 32 min ago</span></li>
<li><a href="../comment/19261#comment-19261">I use the Python version of</a>&nbsp;<span>4 days 4 hours ago</span></li>
<li class="last"><a href="../comment/19260#comment-19260">I have the same problem too</a>&nbsp;<span>1 week 2 days ago</span></li>
</ul></div>  </div>
</div>
<div id="block-node-recent" class="block block-node clearfix">

    <h2 class="title">Recent content</h2>
  
  <div class="content">
    <table>
<tbody>
 <tr class="odd"><td class="title-author"><div class="node-title"><a href="32373.html">Shadow and Highlights Recovery - Adding group undo</a></div><div class="node-author"><span class="username">programmer_ceds</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="even"><td class="title-author"><div class="node-title"><a href="32360.html">GIMP Plugin Registry in Lockdown mode</a></div><div class="node-author"><span class="username">schumaml</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="odd"><td class="title-author"><div class="node-title"><a href="32372.html">Split to Special PNG&#039;s</a></div><div class="node-author"><span class="username">Efenstor</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="even"><td class="title-author"><div class="node-title"><a href="32371.html">Delete account</a></div><div class="node-author"><span class="username">amarz82</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="odd"><td class="title-author"><div class="node-title"><a href="32370.html">Export with MozJPEG</a></div><div class="node-author"><span class="username">Efenstor</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="even"><td class="title-author"><div class="node-title"><a href="32369.html">Shadow and Highlights Recovery</a></div><div class="node-author"><span class="username">erwinsoo</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="odd"><td class="title-author"><div class="node-title"><a href="27656.html">GIMP Extensions Pack for Windows</a></div><div class="node-author"><span class="username">GIMP Extensions</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="even"><td class="title-author"><div class="node-title"><a href="32341.html">Removed...</a></div><div class="node-author"><span class="username">Le Gnou</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="odd"><td class="title-author"><div class="node-title"><a href="32368.html">ofn-preset-guides</a></div><div class="node-author"><span class="username">Ofnuts</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
 <tr class="even"><td class="title-author"><div class="node-title"><a href="28268.html">Export Layers</a></div><div class="node-author"><span class="username">khalim19</span></div></td><td class="edit"></td><td class="delete"></td> </tr>
</tbody>
</table>
  </div>
</div>
  </div>
        </div>
      
    </div> <!-- /#container -->
  </div> <!-- /#wrapper -->
  </body>
</html>
